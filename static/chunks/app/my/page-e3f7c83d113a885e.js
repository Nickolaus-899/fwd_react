(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[782],{9276:function(e,s,n){Promise.resolve().then(n.bind(n,5437)),Promise.resolve().then(n.t.bind(n,6659,23)),Promise.resolve().then(n.t.bind(n,1363,23))},5437:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return h}});var l=n(9268),t=n(6006),i=n(218),a=n(6394),c=n.n(a),r=n(4622),d=n(2305),o=e=>{let{dish:s,client:n}=e,[a,o]=(0,t.useState)(!1);async function h(){(0,r.oT)(n,s),setTimeout(function(){location.reload()},i.i4)}let u=()=>{o(!0)};return(0,l.jsxs)(l.Fragment,{children:[a?(0,l.jsx)(d.Z,{type:i.$o,setIsOpenForm:o,changeEventHandler:i.HT,createDishHandler:i.HT,closeFormHandler:()=>{o(!1)},deleteHandler:h,dish:i.rc,addToMenuHandler:i.HT}):null,(0,l.jsxs)("div",{className:"dish1 row",children:[(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)(c(),{unoptimized:!0,loader:()=>s.img,className:"svg",width:140,height:82.5,src:s.img,alt:"food"})}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("h2",{className:"dish_header",children:s.title}),(0,l.jsxs)("h3",{className:"calories",children:[" Calorific value: ",s.calories," kk "]})]}),(0,l.jsx)("div",{className:"price col-md-3",children:(0,l.jsxs)("h2",{children:[s.price," rub "]})}),(0,l.jsx)("button",{onClick:()=>{u()},children:"Delete Item"})]})]})},h=function(){let[e,s]=(0,t.useState)(!1),[n,a]=(0,t.useState)(i.zW),[c,h]=(0,t.useState)(0),[u,m]=(0,t.useState)(0),[f,j]=(0,t.useState)(i.Il);async function x(e){await (0,r.rQ)().then(s=>{for(let n=0;n<s.length;n++)if(s[n].token===e){a(s[n]);break}})}return(0,t.useEffect)(()=>{(async function(){if(localStorage.getItem(i.gZ)){let e=JSON.parse(localStorage.getItem(i.gZ));await x(e.token)}else s(!0)})()},[]),(0,t.useEffect)(()=>{!function(){j(i.Il),m(0),h(0);for(let e=0;e<n.dishes.length;e++)j(s=>[...s,n.dishes[e]]),h(s=>s+parseInt(n.dishes[e].calories.toString())),m(s=>s+parseInt(n.dishes[e].price.toString()))}()},[n]),(0,l.jsxs)(l.Fragment,{children:[e?(0,l.jsx)(d.Z,{type:i.uN,setIsOpenForm:s,changeEventHandler:i.HT,createDishHandler:i.HT,closeFormHandler:()=>{s(!1)},deleteHandler:i.HT,dish:i.rc,addToMenuHandler:i.HT}):null,(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("div",{className:"my_menu",children:[(0,l.jsx)("h1",{children:"My menu"}),f.map(e=>(0,l.jsx)(o,{dish:e,client:n},e.id)),(0,l.jsxs)("div",{className:"total row",children:[(0,l.jsx)("div",{className:"col-md-3",children:(0,l.jsx)("h2",{children:"Total:"})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("h2",{className:"calories",children:[c," kk "]})}),(0,l.jsx)("div",{className:"price col-md-3",children:(0,l.jsxs)("h2",{children:[" ",u," rub "]})})]})]})})})]})}},1363:function(){},6659:function(){}},function(e){e.O(0,[662,550,29,213,61,305,253,698,744],function(){return e(e.s=9276)}),_N_E=e.O()}]);